<form role="form" @submit.prevent="menuItem.submit()" @keydown="menuItem.errors.clear($event.target.name)">
    <div class="form-group" :class="{ 'has-error': menuItem.error('parent_id') }">
        <label for="name">Parent Menu Item</label>
        <input type="hidden" v-model="menuItem.parent_id">
        <div class="input-group">
            <div class="input-group-addon"><i class="fa fa-search" @click="toggle()"></i></div>
            <input type="text" class="form-control" :value="parentMenuItem.fullName()" readonly>
            <div v-if="menuItem.parent_id" class="input-group-addon"><i class="fa fa-times-circle" @click="clearParentMenuItem()"></i></div>
        </div>
        <span v-for="error in menuItem.error('parent_id')" class="text-danger">{{ error }}</span>
    </div>
    <div v-if="search">
        <selectParent></selectParent>
    </div>
    <div class="form-group" :class="{ 'has-error': menuItem.error('label') }">
        <label for="label">Label</label>
        <input type="text" class="form-control" v-model="menuItem.label" placeholder="label">
        <span v-for="error in menuItem.error('label')" class="text-danger">{{ error }}</span>
    </div>
    <div class="form-group" :class="{ 'has-error': menuItem.error('slug') }">
        <label for="slug">Slug</label>
        <input type="text" class="form-control" v-model="menuItem.slug" placeholder="slug">
        <span v-for="error in menuItem.error('slug')" class="text-danger">{{ error }}</span>
    </div>
    <div class="form-group" :class="{ 'has-error': menuItem.error('url') }">
        <label for="url">Url</label>
        <input type="text" class="form-control" v-model="menuItem.url" placeholder="url">
        <span v-for="error in menuItem.error('url')" class="text-danger">{{ error }}</span>
    </div>
    <div class="form-group" :class="{ 'has-error': menuItem.error('target') }">
        <label for="target">Target</label>
        <select class="form-control" v-model="menuItem.target">
            <option value="null">Same Window</option>
            <option value="_blank">New Window</option>
        </select>
        <span v-for="error in menuItem.error('target')" class="text-danger">{{ error }}</span>
    </div>
    <div class="text-right">
        <button type="submit" class="btn btn-primary" :disabled="menuItem.errors.any()">
            <span v-if="menuItem.saving"><i class="fa fa-spinner fa-pulse fa-fw"></i></span>
            <span v-else>Save</span>
        </button>
    </div>
</form>